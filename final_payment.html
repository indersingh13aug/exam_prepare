<!DOCTYPE html>
<html>
<head>
    <title>UPI Payment</title>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 50px;
        }
        input {
            padding: 10px;
            width: 250px;
            font-size: 16px;
            margin-bottom: 20px;
        }
        button {
            padding: 12px 20px;
            font-size: 16px;
            background-color: green;
            color: white;
            border: none;
            border-radius: 6px;
        }
    </style>
</head>
<body>

    <h2>Pay ₹299 using UPI</h2>
    <input type="text" id="upiId" placeholder="Enter UPI ID (e.g., you@upi)" />
    <br>
    <button onclick="startUPIPayment()">Pay with UPI</button>

    <script>
    function validateUPI(upiId) {
        const upiRegex = /^[\w.\-]{2,256}@[a-zA-Z]{2,64}$/;
        return upiRegex.test(upiId);
    }

    function startUPIPayment() {
        const upiId = document.getElementById('upiId').value.trim();
        if (!validateUPI(upiId)) {
            alert("Please enter a valid UPI ID (like you@upi)");
            return;
        }

        const options = {
            "key": "rzp_test_wlpMbm4DJpP8dp", // Replace with your Razorpay Key ID
            "amount": 299, // in paise = ₹299
            "currency": "INR",
            "name": "Upgrade to Pro",
            "description": "UPI Payment",
            "method": {
                "netbanking": false,
                "card": false,
                "upi": true,
                "wallet": false
            },
            "prefill": {
                "email": "user@example.com",
                "contact": "9999999999",
                "method": "upi",
                "upi": {
                    "vpa": upiId
                }
            },
            "handler": function (response){
                alert("Payment Successful!\nPayment ID: " + response.razorpay_payment_id);
            },
            "modal": {
                "ondismiss": function(){
                    alert("Payment cancelled.");
                }
            }
        };
        const rzp = new Razorpay(options);
        rzp.open();
    }
    </script>

</body>
</html>
